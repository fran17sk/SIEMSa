{% extends "simsa/home.html" %}

{% block head %}
<style>
    
    .dashboard-header {
        display: flex;
        margin-left: 200px;
  flex-direction: column;
  gap: 15px;
  padding: 20px;
  background-color: #1F2937; /* gris oscuro profesional */
  color: #ffffff;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

/* Título del tablero */
.dashboard-title h2 {
  margin: 0;
  font-size: 1.8rem;
  font-weight: 700;
  color: #ffffff; /* color dorado corporativo */
}

/* Contenedor de filtros */
.filters-container {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  align-items: flex-end;
}

/* Cada filtro individual */
.filter {
  display: flex;
  flex-direction: column;
}

.filter label {
  font-weight: 600;
  margin-bottom: 4px;
  font-size: 0.9rem;
  color: #E5E7EB;
}

.filter select {
  padding: 6px 10px;
  border-radius: 6px;
  border: 1px solid #374151;
  background-color: #111827;
  color: #F9FAFB;
  font-size: 0.9rem;
  min-width: 150px;
  transition: border 0.2s, box-shadow 0.2s;
}

.filter select:focus {
  outline: none;
  border-color: #FBBF24;
  box-shadow: 0 0 0 2px rgba(251,191,36,0.3);
}

/* Botón de filtrado */
.filter-button button {
  background-color: #FBBF24;
  color: #1F2937;
  padding: 8px 20px;
  font-weight: 600;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s, transform 0.1s;
  display: flex;
  align-items: center;
  gap: 6px;
}

.filter-button button:hover {
  background-color: #FFD454;
  transform: translateY(-1px);
}

.filter-button button i {
  font-size: 1rem;
}
/* Contenedor de contadores */
.dashboard-counters {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-bottom: 30px;
}

/* Cada tarjeta */
.counter-card {
  flex: 1;
  min-width: 200px;
  background-color: #111827; /* gris oscuro profesional */
  color: #F9FAFB;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  text-align: center;
  transition: transform 0.2s, box-shadow 0.2s;
}

.counter-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.25);
}

/* Título del contador */
.counter-title {
  font-size: 0.9rem;
  font-weight: 600;
  color: #E5E7EB;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Valor del contador */
.counter-value {
  font-size: 2rem;
  font-weight: 700;
  color: #FBBF24; /* dorado corporativo */
}
</style>
{% endblock %}

{% block content %}
<div class="dashboard-header">
  <div class="dashboard-title">
    <h2>Tablero de Control</h2>
  </div>
  <div class="filters-container">
    <div class="filter">
      <label for="periodo">Periodo</label>
      <select id="periodo">
        <option value="">Seleccione</option>
        <option value="Q1">Q1</option>
        <option value="Q2">Q2</option>
        <option value="Q3">Q3</option>
        <option value="Q4">Q4</option>
      </select>
    </div>

    <div class="filter">
      <label for="empresa">Empresa</label>
      <select id="empresa">
        <option value="">Seleccione</option>
      </select>
    </div>

    <div class="filter">
      <label for="proyecto">Proyecto</label>
      <select id="proyecto">
        <option value="">Seleccione</option>
      </select>
    </div>

    <div class="filter">
      <label for="anio">Año</label>
      <select id="anio">
        <option value="">Seleccione</option>
        {% for year in years %}
          <option value="{{ year }}">{{ year }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="filter">
      <label for="municipio">Municipio</label>
      <select id="municipio">
        <option value="">Seleccione</option>
      </select>
    </div>

    <div class="filter filter-button">
      <button id="btn-filtrar">
        <i class="bi bi-funnel-fill"></i> Filtrar
      </button>
    </div>
  </div>
</div>
<div class="dashboard-counters">
  <div class="counter-card">
    <div class="counter-title">Usuarios Creados</div>
    <div class="counter-value">{{ total_usuarios }}</div>
  </div>
  <div class="counter-card">
    <div class="counter-title">Empresas sin Usuario</div>
    <div class="counter-value">{{ empresas_sin_usuario_count }}</div>
  </div>
  <div class="counter-card">
    <div class="counter-title">Proyectos</div>
    <div class="counter-value">{{ total_proyectos }}</div>
  </div>
</div>

{% endblock %}
